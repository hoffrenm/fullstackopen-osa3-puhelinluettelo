{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/Personform.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","person","handleRemove","react_default","a","createElement","name","number","onClick","id","Persons","persons","filter","p","toLowerCase","includes","map","components_Person","key","Filter","handleChange","text","value","onChange","Personform","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","post","put","concat","delete","base","color","background","fontSize","borderRadius","borderStyle","padding","marginBottom","width","success","Object","objectSpread","borderColor","fail","Notification","notification","message","style","className","App","_useState","useState","_useState2","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNotification","_useState9","_useState10","setFilter","useEffect","personService","components_Notification","components_Filter","event","target","components_Personform","preventDefault","existingPerson","find","window","confirm","modifiedPerson","newPerson","setTimeout","catch","error","console","log","addedPerson","components_Persons","personToBeRemoved","res","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b9bd0028.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person = ({ person, handleRemove }) => {\n  return (\n    <div>\n      {person.name} {person.number}{\" \"}\n      <button onClick={() => handleRemove(person.id)}>Remove</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person.js\";\n\nconst Persons = ({ persons, filter, handleRemove }) =>\n  persons\n    .filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n    .map(person => <Person key={person.id} person={person} handleRemove={handleRemove}/>);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ handleChange, text }) => {\n  return (\n    <div>\n      Filter list: <input value={text} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Personform = ({ addPerson, newName, newNumber, handleNameChange, handleNumberChange }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Personform;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data);\n};\n\nconst create = person => {\n  return axios.post(baseUrl, person).then(response => response.data);\n};\n\nconst update = (id, person) => {\n  return axios.put(`${baseUrl}/${id}`, person).then(response => response.data);\n};\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React from \"react\";\n\nconst base = {\n  color: \"black\",\n  background: \"lightgrey\",\n  fontSize: 24,\n  borderRadius: 7,\n  borderStyle: \"solid\",\n  padding: 20,\n  marginBottom: 10,\n  width: 800\n};\n\nconst success = { ...base, color: \"green\", borderColor: \"green\" };\nconst fail = { ...base, color: \"red\", borderColor: \"red\" };\n\nconst Notification = ({ notification }) => {\n  const message = notification.message;\n  const type = notification.type;\n\n  if (!message) {\n    return <div />;\n  }\n\n  let style = base;\n\n  if (type === \"success\") {\n    style = success;\n  } else if (type === \"fail\") {\n    style = fail;\n  }\n\n  return (\n    <div className=\"notification\" style={style}>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons.js\";\nimport Filter from \"./components/Filter.js\";\nimport Personform from \"./components/Personform.js\";\nimport personService from \"./services/persons.js\";\nimport Notification from \"./components/Notification.js\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"Enter name\");\n  const [newNumber, setNewNumber] = useState(\"Enter number\");\n  const [notification, setNotification] = useState({ message: \"\", type:\"\" });\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    personService.getAll().then(persons => setPersons(persons));\n  }, []);\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setFilter(event.target.value);\n  };\n\n  const handleRemove = id => {\n    const personToBeRemoved = persons.find(p => p.id === id);\n\n    if (window.confirm(`You are removing ${personToBeRemoved.name}`)) {\n      personService\n        .remove(id)\n        .then(res => {\n          setNotification({message: `${personToBeRemoved.name} has been removed`, type:\"success\" });\n          setTimeout(() => setNotification({ message: null }), 5000);\n        })\n        .catch(error => {\n          setNotification({ message: `${personToBeRemoved.name} were already removed`, type: \"error\" });\n          setTimeout(() => setNotification({ message: null }), 5000);\n        });\n\n      setPersons(persons.filter(p => p.id !== id));\n    };\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    const existingPerson = persons.find(p => p.name === newName);\n\n    if (existingPerson) {\n      if (window.confirm(`${newName} already exists, replace number?`)) {\n        const modifiedPerson = { ...existingPerson, number: newNumber };\n\n        personService\n          .update(existingPerson.id, modifiedPerson)\n          .then(newPerson => {\n            setPersons(persons.map(p => (p.id !== existingPerson.id ? p : newPerson)));\n            setNotification({ message:`${newPerson.name}'s number has been changed to ${newPerson.number}`, type: \"success\" });\n            setTimeout(() => setNotification({ message: null }), 5000);\n          })\n          .catch(error => {\n            console.log(error);\n            setPersons(persons.filter(p => p.id !== existingPerson.id));\n            setNotification({ message: \"Person you tried to edit were somehow deleted, no changes were made\", type: \"fail\" });\n            setTimeout(() => setNotification({ message: null }),5000);\n          });\n      } else {\n        // Do nothing\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n\n      personService\n        .create(personObject)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson));\n          setNotification({ message: `${addedPerson.name} has been added to the phonebook`, type: \"success\" });\n          setTimeout(() => setNotification({ message: null }), 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n      });\n    };\n  };\n\n  return (\n    <div>\n      <Notification notification={notification} />\n\n      <h1>Phonebook</h1>\n      <Filter handleChange={handleFilterChange} />\n\n      <h3>Add new person</h3>\n      <Personform\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} handleRemove={handleRemove} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}